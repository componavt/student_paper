\section{Использование лексических цепочек для реферирования текстов}
\begin{flushright}
\textit{А. В. Пилинович} 
\end{flushright}

В статье \cite{Barzilay Elhadad 1997} с целью реферирования текста строится модель в виде лексических цепочек. Реферирование включает четыре этапа: оригинальный текст делится на блоки (сегменты), строятся лексические цепочки, определяются сильные цепочки, извлекаются важные предложения.

Реферирование --- это процесс сжатия исходного текста в более компактный при сохранении информативности текста. Реферирование выполняется для решения разных задач --- от обзорного анализа текстов какой-либо научной области до быстрого выделения главных тем текста. Создание качественной информативной аннотации произвольного текста является сложной задачей, требующей полного понимания текста. Легче создавать  приблизительные, указательные аннотации (indicative summaries), позволяющие принять решение --- стоит ли читать текст. В работе \cite{Barzilay Elhadad 1997} описан метод создания указательных аннотаций по произвольным текстам.

Интуитивное понятие \textit{cohesion} (связность, склеивание, слияние), введенное в \cite{Halliday Hasan 1976}, указывает на объединение разных частей (фрагментов) текста в одно целое, в то, что имеет значение, смысл. Одним из видов связности является \textit{лексическая связность} (lexical cohesion) \cite{Hoey 1991}. Лексическая связность формируется с помощью семантически связанных слов. Халлидей и Хасан \cite{Halliday Hasan 1976} выделили  два способа формирования лексической связности: (1) с помощью категории повторений и (2) категории словосочетаний. 

\begin{enumerate} 
\item \textit{Лексическая связность повторений} (reiteration category) достигается повтором слов, использованием синонимов и гипонимов. 
\item \textit{Лексическая связность словосочетаний} (collocation category) определена для слов, которые часто употребляются вместе, то есть встречаются в одних и тех же контекстах.
\end{enumerate}

Слова и фразы, между которыми существует лексическая связность, формируют лексическую цепочку (lexical chains) \cite{Hoey 1991}. Метод лексических цепочек, предложенный Барзилей и Эльхадад \cite{Barzilay Elhadad 1997}, основан на анализе совместной встречаемости слов и лексических связей между словами. 

\textbf{Алгоритм построения цепочек.} Достоинство лексических цепочек в том, что их легко распознать и построить. Первая вычислительная модель для лексических цепочек была представлена в работе Морриса и Хирста \cite{Morris Hirst 1991}. Цепочки создавались путем взятия нового слова из текста и поиска родственной (связанной) цепочки для слова в соответствии с критериями родства. Недостатком подхода в \cite{Morris Hirst 1991} было то, что в одну цепочку могло входить слово с разными значениями (для многозначных слов). Таким образом, выбор подходящей цепочки для слова эквивалентен решению WSD-задачи.

Метод построения лексических цепочек включает шаги:

\begin{enumerate} 
\item Выбирается набор слов-кандидатов (существительные и составные существительные). Это кандидаты на включение в цепочки.
\item Строится список всех значений для каждого слова-кандидата (по данным словаря).
\item Для каждого значения каждого слова-кандидата находится (вычисляется) отношение (расстояние) до каждого слова во всех уже построенных цепочках (слово в цепочке имеет строго определённое значение, задаваемые другими словами в той же цепочке). Между двумя словами есть отношение (будет указана связь в цепочке), если мало расстояние между этими словами в тексте (text distance) или между значениями этих слов существует путь в тезаурусе WordNet. Выделяют три вида отношений (\cite{Do Thuy Duong 2011}, стр. 36):
\begin{enumerate} 
\item \textit{Extra-strong} отношение существует для слов, повторяющихся в тексте. Повтор может быть на любом расстоянии от первого употребления слова.
\item \textit{Strong} отношение определено между словами, связанными отношением в WordNet. Два таких слова должны находиться в окне не более семи предложений.
\item \textit{Medium-strong} отношение указывается для слов, синсеты которых находятся на расстоянии больше одного в WordNet (но есть ещё и дополнительные ограничения на путь между синсетами). Слова в тексте должны находиться в пределах трех предложений.
\end{enumerate} 
\item Слово-кандидат добавляется в цепочки, со словами которых найдена связь. Смысловая неоднозначность устраняется, то есть в цепочку добавляется не просто слово, а его конкретное значение (благодаря выбору значения в словаре на шаге 2).
\end{enumerate} 

Для выбора приоритетной цепочки (для вставки слова-кандидата) отношения упорядочены так: extra-strong, strong, medium-strong. В работе Хирста и Ст-Онж \cite{Hirst St-Onge 1998} предложен жадный алгоритм выбора цепочек. При этом слово-кандидат попадает ровно в одну цепочку и после этого выбор уже не может быть изменён, даже если последующий текст покажет ошибочность первоначального решения. В работе Барзилей и Эльхадад \cite{Barzilay Elhadad 1997} предложена более сложная схема выбора <<подходящего значения>>, требующая рассмотрения всех возможных цепочек. Таким образом, будут сформированы цепочки с учетом всех возможных значений слов с последующим выбором наилучшей цепочки. Эта более сложная схема и рассматривается далее.

Для иллюстрации метода приводится пример на отрывке текста, представленном ниже, и посмотрим, какое значение будет выбрано для слова \textit{machine}. Во-первых, для слова \textit{Mr.} создается узел [лексема “Mr.”, значение \{mister, Mr.\}]. Следующим по тексту существительным, представленным в тезаурусе WordNet, будет слово \textit{person}, у него есть два значения: \textit{“human being”} ($person_1$) и \textit{“grammatical category of pronouns and verb forms”} ($person_2$). Наличие двух значений у слова \textit{person} разбивает пространство цепочек на два множества интерпретаций: в первой интерпретации используется значение  $person_1$, во второй --- $person_2$, (Рис.~\ref{step1}).

\textit{\textbf{Mr.} Kenny is the \textbf{person} that invented an anesthetic \textbf{machine} which uses \textbf{micro-computers} to control the rate at which an anesthetic is pumped into the blood. Such \textbf{machines} are nothing new. But his \textbf{device} uses two \textbf{micro-computers} to achieve much closer monitoring of the \textbf{pump} feeding the anesthetic into the patient.}

\textit{Компонентой} в \cite{Barzilay Elhadad 1997}  называют список взаимоисключающих интерпретаций. Именно посредством компонент выбор одного из значений слов ведёт к выбору соответствующей интерпретации, а, следовательно, к невозможности других интерпретаций из этой компоненты. Интерпретации 1 и 2 на Рис.~\ref{step1} являются компонентой.

Следующее слово \textit{anesthetic} не связано со словами из первой компоненты, поэтому для него создается  компонента с одним значений (то есть новая компонента содержит ровно одну интерпретацию). 

Следующее слово \textit{machine} имеет 5 значений: от $machine_1$  до $machine_5$. В первом значении $machine_1$  [лексема “machine”, значение \{an efficient person\}] слово связано со значениями слов $person$ и $Mr.$, поэтому слово $machine$  вставляется в первую компоненту. После этой вставки изображение первой компоненты становится таким, как показано на Рис.~\ref{step2}. Если продолжить этот процесс и вставить слова \textit{micro-computer, device} и \textit{pump,} то количество альтернативных вариантов значительно увеличивается. Самые сильные интерпретации представлены на Рис.~\ref{step6}. При условии, что текст связный, лучшей интерпретацией считается та, которая имеет больше всего связей. В данном  случае в конце шага 3 выбрана другая интерпретация $machine_4$ [лексема “machine”, значение \{\textit{any mechanical or electrical device that performs or assists in the performance}\}], что верно отражает значение слова \textit{machine} в этом контексте.

\begin{figure*}
   \centering
    \includegraphics[keepaspectratio=true,width=0.9\columnwidth]{step_1_int_1_2.PNG}
    \caption{Шаг 1, интерпретация 1 (слева) и 2 (справа)}
    \label{step1}
\end{figure*}

\begin{figure*}
        \centering
        \begin{subfigure}[b]{0.33\textwidth}
                \fbox{\includegraphics[width=\textwidth]{step_2_int_1.PNG}}
%                \includegraphics[width=\textwidth]{step_2_int_1.PNG}
%                \caption{Шаг 2, интерпретация 1}
                \caption{Интерпретация 1}
        \end{subfigure}%
%        \hfill%%% horizontal distance between two images (side by side)
        \quad% add desired spacing between images, e. g. ~, \quad, \qquad, \hfill etc.
             % (or a blank line to force the subfigure onto a new line)
        \begin{subfigure}[b]{0.39\textwidth}
                \fbox{\includegraphics[width=\textwidth]{step_2_int_2.PNG}}
%                \caption{Шаг 2, интерпретация 2}
                \caption{Интерпретация 2}
        \end{subfigure}

        %~ %add desired spacing between images, e. g. ~, \quad, \qquad, \hfill etc.
          %(or a blank line to force the subfigure onto a new line)
        \begin{subfigure}[b]{0.39\textwidth}
                \fbox{\includegraphics[width=\textwidth]{step_2_int_3.PNG}}
%                \includegraphics[width=\textwidth]{step_2_int_3.PNG}
%                \caption{Шаг 2, интерпретация 3}
                \caption{Интерпретация 3}
        \end{subfigure}
%        \hfill%%% horizontal distance between two images (side by side)
        \quad% add desired spacing between images, e. g. ~, \quad, \qquad, \hfill etc.
             % (or a blank line to force the subfigure onto a new line)
        \begin{subfigure}[b]{0.33\textwidth}
                \fbox{\includegraphics[width=\textwidth]{step_2_int_4.PNG}}
%                \includegraphics[width=\textwidth]{step_2_int_4.PNG}
%                \caption{Шаг 2, интерпретация 4}
                \caption{Интерпретация 4}
        \end{subfigure}
        \caption{Четыре интерпретации на втором шаге}\label{step2}
\end{figure*}

\begin{figure*}
        \centering
        \begin{subfigure}[b]{0.42\textwidth}
                \fbox{\includegraphics[width=\textwidth]{step_3_int_1.PNG}}
%                \includegraphics[width=\textwidth]{step_2_int_1.PNG}
%                \caption{Шаг 2, интерпретация 1}
                \caption{Интерпретация 1}
        \end{subfigure}%
        \quad% add desired spacing between images, e. g. ~, \quad, \qquad, \hfill etc.
             % (or a blank line to force the subfigure onto a new line)
        \begin{subfigure}[b]{0.42\textwidth}
                \fbox{\includegraphics[width=\textwidth]{step_3_int_2.PNG}}
%                \caption{Шаг 2, интерпретация 2}
                \caption{Интерпретация 2}
        \end{subfigure}
        \caption{Две самые сильные интерпретации, полученные на третьем шаге}\label{step6}
\end{figure*}

Оценка интерпретации определяется как сумма оценок ее цепочек. 
Оценка цепочки определяется количеством и весом отношений между участниками цепочки. 
В эксперименте авторы зафиксировали следующий вес: повторения и синонимы  --- 10, антонимы --- 7, 
гиперонимы и гипонимы --- 4. Описанный алгоритм вычисляет все возможные интерпретации, 
не допуская противоречий между ними. 
Когда число возможных интерпретаций превышает определенный порог, слабые интерпретации удаляются, 
это необходимо для предотвращения экспоненциального роста использования памяти.

\textbf{Объединение цепочек из разных сегментов.} Текст предварительно разбивается на сегменты (несколько предложений или абзац). Пример выше (\textit{Mr. Kenny...}) соответствует одному сегменту. Цепочки строятся для каждого сегмента на основе найденных отношений между словами (extra-strong, strong, medium-strong). На следующем этапе объединяются цепочки из разных сегментов, но для объединения нужно, чтобы выполнялось еще более жесткое условие: две цепочки объединяются, если они содержат одно и то же слово в одном и том же значении. Поскольку есть прямая связь между цепочками и смысловыми блоками текста, постольку с помощью лексических цепочек можно решать и обратную задачу --- разбиение текста на сегменты~\cite{Barzilay Elhadad 1997}.

\textbf{Вычисление оценок цепочек.} Для того чтобы использовать лексические цепочки для построения аннотации, в первую очередь следует выявить сильнейшие цепочки среди всех тех, которые создаются описанным выше алгоритмом. Барзилей и Эльхадад в~\cite{Barzilay Elhadad 1997}  предложили  эмпирическую методику для оценки силы цепочки. Они разработали среду, чтобы вычислить и графически визуализировать лексические цепочки, чтобы оценить экспериментально, насколько хорошо идентифицируются (определяются) основные темы текстов. Авторы собрали данные из 30 текстов, выбранных случайным образом из популярных журналов (например, “The Economist”, “Scientific American”). Для каждого текста вручную выполнили ранжирование цепочек по степени соответствия основным темам текста. 

Из множества параметров, которые можно измерить (длина цепочки; объем текста, покрываемого цепочкой; плотность; диаметр слов цепочки в графе тезауруса; число повторений), Барзилей и Эльхадад \cite{Barzilay Elhadad 1997} опытным путем нашли следующие показатели значимости цепочек для построение реферата:

\begin{itemize}
\item \textit{Длина (Length):} число употреблений в тексте элементов цепочки.
\item \textit{Индекс однородности (HomogeneityIndex):} 1 --- количество различных употреблений в тексте элементов цепочки, деленное на длину (\textit{Length}).
\end{itemize}

Таким образом, значимость цепочек оценивается так:
\begin{equation*}
\text{Score(Chain)} = \text{Length} \times \text{HomogeneityIndex}
\end{equation*}

При ранжировании цепочек в соответствии с этой оценкой было найдено, что для построения реферата нужны цепочки, удовлетворяющие <<критерию прочности (силы)>>:
\begin{equation*}
\begin{split}
\text{Score(Chain)} > \text{Average(Scores)} + \\
2 \times \text{StandardDeviation(Scores)}
\end{split}
\end{equation*}

где \textit{Average} --- это средняя оценка по всем цепочкам, \textit{StandardDeviation} --- среднеквадратическое отклонение.

\textbf{Извлечение важных предложений.} После того как сильные цепочки отобраны, выполняется поиск соответствующих им предложений и извлечение этих предложений целиком из исходного текста.

Для каждой сильной цепочки на основе разработанных эвристик выбирается ровно одно предложение для включения в текст реферата:

\underline{Эвристика 1:} Для каждой цепочки для включения в реферат выбрать то предложение, которое содержит первое появление члена цепочки в тексте.

\underline{Эвристика 2:} Для каждой цепочки для включения в реферат выбрать предложение, которое содержит первое появление \textit{показательного} элемента цепочки в тексте. \textit{Показательные} слова (representative words), служащие представителями цепочки, --- это такие слова цепочки, которые встречаются в цепочке не реже, чем в среднем по всем словам цепочки.

\underline{Эвристика 3:} Для каждой цепи найти блок текста, где есть высокая концентрация цепочки (то есть много употреблений элементов из этой цепочки). Извлечь предложение с первого появления цепочки в этом блоке. Концентрация вычисляется как число появлений членов цепи в сегменте, разделенное на количество существительных в сегменте. Цепочка имеет высокую концентрацию, если ее концентрация является максимальной из всех цепочек. Кластер представляет собой группу последовательных сегментов, таких, что каждый сегмент содержит какие-либо элементы цепочки.

Эксперименты в \cite{Barzilay Elhadad 1997} показали значительное преимущество алгоритма на основе лексических цепочек (точность 47-61\% и полнота 64-67\%) по сравнению с программой Microsoft Summarizer, доступной в Word’97 (точность 32-33\% и полнота 37-39\%). Эти результаты указывают на большой потенциал лексических цепочек в задаче реферирования.
